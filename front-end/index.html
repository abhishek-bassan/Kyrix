<html>
<body></body>
<head>
    <script src = "https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src = "https://cdn.jsdelivr.net/npm/jquery-validation@1.17.0/dist/jquery.validate.min.js"></script>
    <script src = "https://d3js.org/d3.v5.min.js"></script>


    <script src = "/js/bundle.js"></script>

    <link rel = "stylesheet" type = "text/css" href = "/static/css/main.css">
    <link rel = "stylesheet" type = "text/css" href = "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css?family=Source Serif Pro" rel="stylesheet">
    <script>
        kyrix.pageOnLoad();
        console.log(kyrix.getData());

        d3.select("body")
            .on("keydown", function () {
                if (event.key == "ArrowLeft" || event.key == "ArrowRight") {
                    event.preventDefault();
                    event.stopImmediatePropagation();
                    // calculate new transform
                    var delta = (event.key == "ArrowRight" ? -1 : 1);
                    kyrix.Pan("usmap",1000, 0, delta);
                }
                if (event.key == "ArrowUp" || event.key == "ArrowDown") {
                    event.preventDefault();
                    event.stopImmediatePropagation();
                    // calculate new transform
                    var delta = (event.key == "ArrowDown" ? -1 : 1);
                    kyrix.Pan("usmap",0, 1000, delta);
                }
            });

        d3.select("body")
            .append('input')
            .attr('type', 'text')
            .attr('name', 'state:')
            .on("keydown",function (){
                var svg = d3.select(".view_usmap.layerg.layer1").select(".mainsvg");
                kyrix.highlightByInput(svg, event.key);
            })

    </script>
</head>
</html>
